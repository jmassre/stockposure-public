{"ast":null,"code":"var _jsxFileName = \"/Users/joey/Desktop/etf-holdings-site/src/App.js\";\nimport logo from './logo.svg';\n\nconst axios = require('axios');\n\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function sendGetRequest(etfValues, etfShares, stockValues, stockShares) {\n  let stocks = {};\n  let etfs = [];\n  let individualStocks = [];\n  let totalOverallValue = 0;\n\n  for (let i = 0; i < etfValues.length; i++) {\n    etfs.push({\n      \"etf\": etfValues[i][\"ticker\"],\n      \"value\": etfValues[i][\"value\"]\n    });\n    totalOverallValue += etfValues[i][\"value\"];\n  }\n\n  for (let i = 0; i < etfShares.length; i++) {\n    try {\n      await axios.get(`https://financialmodelingprep.com/api/v3/quote-short/${etfShares[i][\"ticker\"]}?apikey=1a4f4c0ce5cd348fb5a01d33d0e1195a`).then(response => {\n        console.log(\"H\");\n        etfs.push({\n          \"etf\": etfShares[i][\"ticker\"],\n          \"value\": etfShares[i][\"shares\"] * response.data[0][\"price\"]\n        });\n        totalOverallValue += etfShares[i][\"shares\"] * response.data[0][\"price\"];\n      });\n      console.log(\"d\");\n    } catch {\n      console.log(\"HNSDFCUN\");\n    }\n  } //now we have [{etf:SPY, value: 200}, {etf:SPY, value: 300}]\n\n\n  for (let i = 0; i < stockValues.length; i++) {\n    individualStocks.push({\n      \"stock\": stockValues[i][\"ticker\"],\n      \"value\": stockValues[i][\"value\"]\n    });\n    totalOverallValue += stockValues[i][\"value\"];\n  }\n\n  for (let i = 0; i < stockShares.length; i++) {\n    await axios.get(`https://financialmodelingprep.com/api/v3/quote-short/${stockShares[i][\"ticker\"]}?apikey=1a4f4c0ce5cd348fb5a01d33d0e1195a`).then(response => {\n      individualStocks.push({\n        \"stock\": stockShares[i][\"ticker\"],\n        \"value\": stockShares[i][\"shares\"] * response.data[0][\"price\"]\n      });\n      totalOverallValue += stockShares[i][\"shares\"] * response.data[0][\"price\"];\n    });\n  } //now we have [{stock:AAPL, value 50}, {stock:MSFT, value 50}]\n\n\n  for (let i = 0; i < etfs.length; i++) {\n    await axios.get(`https://fmpcloud.io/api/v3/etf-holder/${etfs[i][\"etf\"]}?apikey=863b5080b597b86a6bfab2088844d00a`).then(response => {\n      for (let j = 0; j < response.data.length; j++) {\n        stocks[response.data[j][\"asset\"]] = stocks[response.data[j][\"asset\"]] ? response.data[j][\"weightPercentage\"] / 100 * etfs[i][\"value\"] / totalOverallValue + stocks[response.data[j][\"asset\"]] : response.data[j][\"weightPercentage\"] / 100 * etfs[i][\"value\"] / totalOverallValue;\n      }\n    });\n  }\n\n  for (let i = 0; i < individualStocks.length; i++) {\n    stocks[individualStocks[i][\"stock\"]] = stocks[individualStocks[i][\"stock\"]] ? individualStocks[i][\"value\"] / totalOverallValue + stocks[individualStocks[i][\"stock\"]] : individualStocks[i][\"value\"] / totalOverallValue;\n  }\n\n  return stocks;\n}\n\n;\nlet percentages = sendGetRequest([{\n  \"ticker\": \"SPY\",\n  \"value\": 50\n}], [{\n  \"ticker\": \"SPY\",\n  \"shares\": 1\n}], [{\n  \"ticker\": \"AAPL\",\n  \"value\": 50\n}], [{\n  \"ticker\": \"AAPL\",\n  \"shares\": 1\n}]);\npercentages.then(function (result) {\n  console.log(result);\n});\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Edit \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"src/App.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }, this), \" and save to reload.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"App-link\",\n        href: \"https://reactjs.org\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"Learn React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/joey/Desktop/etf-holdings-site/src/App.js"],"names":["logo","axios","require","sendGetRequest","etfValues","etfShares","stockValues","stockShares","stocks","etfs","individualStocks","totalOverallValue","i","length","push","get","then","response","console","log","data","j","percentages","result","App"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nconst axios = require('axios');\nimport './App.css';\nasync function sendGetRequest(etfValues, etfShares, stockValues, stockShares){\n  let stocks = {};\n  let etfs = [];\n  let individualStocks=[];\n  let totalOverallValue=0;\n  for (let i=0; i<etfValues.length;i++){\n      etfs.push({\"etf\": etfValues[i][\"ticker\"], \"value\": etfValues[i][\"value\"]});\n      totalOverallValue+=etfValues[i][\"value\"];\n  }\n  for (let i=0; i<etfShares.length;i++){\n      try{\n          await axios.get(`https://financialmodelingprep.com/api/v3/quote-short/${etfShares[i][\"ticker\"]}?apikey=1a4f4c0ce5cd348fb5a01d33d0e1195a`)\n          .then((response) => {\n              console.log(\"H\");\n              etfs.push({\"etf\": etfShares[i][\"ticker\"], \"value\": etfShares[i][\"shares\"]*response.data[0][\"price\"]});\n              totalOverallValue+=etfShares[i][\"shares\"]*response.data[0][\"price\"];\n          });\n          console.log(\"d\");\n      }\n      catch{\n          console.log(\"HNSDFCUN\");\n      }\n  }\n\n  //now we have [{etf:SPY, value: 200}, {etf:SPY, value: 300}]\n  for (let i=0;i<stockValues.length;i++){\n      individualStocks.push({\"stock\": stockValues[i][\"ticker\"], \"value\":stockValues[i][\"value\"]});\n      totalOverallValue+=stockValues[i][\"value\"];\n  }\n  for (let i=0;i<stockShares.length;i++){\n      await axios.get(`https://financialmodelingprep.com/api/v3/quote-short/${stockShares[i][\"ticker\"]}?apikey=1a4f4c0ce5cd348fb5a01d33d0e1195a`)\n          .then((response) => {\n              individualStocks.push({\"stock\": stockShares[i][\"ticker\"], \"value\": stockShares[i][\"shares\"]*response.data[0][\"price\"]});\n              totalOverallValue+=stockShares[i][\"shares\"]*response.data[0][\"price\"];\n          });\n  }\n  //now we have [{stock:AAPL, value 50}, {stock:MSFT, value 50}]\n\n\n  for(let i=0 ;i<etfs.length;i++){\n      await axios.get(`https://fmpcloud.io/api/v3/etf-holder/${etfs[i][\"etf\"]}?apikey=863b5080b597b86a6bfab2088844d00a`)\n      .then((response) => {\n          for (let j=0;j<response.data.length;j++){\n              stocks[response.data[j][\"asset\"]] = stocks[response.data[j][\"asset\"]] ? ((response.data[j][\"weightPercentage\"]/100)*etfs[i][\"value\"])/totalOverallValue + stocks[response.data[j][\"asset\"]] : ((response.data[j][\"weightPercentage\"]/100)*etfs[i][\"value\"])/totalOverallValue;\n          }\n      });       \n  }\n\n  for (let i=0;i<individualStocks.length;i++){\n      stocks[individualStocks[i][\"stock\"]] = stocks[individualStocks[i][\"stock\"]] ? individualStocks[i][\"value\"]/totalOverallValue + stocks[individualStocks[i][\"stock\"]]: individualStocks[i][\"value\"]/totalOverallValue;\n  }\n  return stocks;\n  \n};\n\nlet percentages = sendGetRequest([{\"ticker\": \"SPY\", \"value\":50}], [{\"ticker\": \"SPY\", \"shares\":1 }], [{\"ticker\": \"AAPL\", \"value\":50}], [{\"ticker\": \"AAPL\", \"shares\":1}]);\n\npercentages.then(function(result) {\n  console.log(result);\n})\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}